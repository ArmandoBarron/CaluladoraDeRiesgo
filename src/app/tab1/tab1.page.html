<ion-split-pane contentId="main">

<ion-menu contentId="main">
<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Calculadora de riesgo
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  
  <ion-card>
    <ion-card-header>
      Datos
    </ion-card-header>
    <ion-card-content>
      <form (ngSubmit)="submitForm()">
        <ion-item>
          <ion-label>Estado</ion-label>
            <ionic-selectable
              [(ngModel)]="selectedEstado"
              [items]="ListaEstados"
              itemValueField="CVE_ENT"
              itemTextField="nombre entidad"
              [canSearch]="true"
              (onChange)="filterMun($event)" name="f-ent">
          </ionic-selectable>
        </ion-item>
        
        <ion-item>
          <ion-label>Municipio</ion-label>
            <ionic-selectable
              [(ngModel)]="selectedMunicipio"
              [items]="list_municipios"
              itemValueField="CVE_MUN"
              itemTextField="nombre municipio"
              [canSearch]="true" name="f-mun">
            </ionic-selectable>
        </ion-item>


        <ion-item>
          <ion-label>Sexo</ion-label>
          <ionic-selectable
            [(ngModel)]="selectedSexo"
            [items]="ListaSexos"
            itemValueField="id"
            itemTextField="nombre"
            [canSearch]="true" name="f-sexo">
          </ionic-selectable>
        </ion-item>


        <ion-item>
          <ion-label>Rango de Edad</ion-label>
          <ionic-selectable
            [(ngModel)]="selectedEdad"
            [items]="ListaEdades"
            itemValueField="id"
            itemTextField="nombre"
            [canSearch]="true" name="f-edad">
          </ionic-selectable>
        </ion-item>

        <ion-button expand="full" type="submit">Calcular</ion-button>

      </form>
    </ion-card-content>
  </ion-card>

  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Tab 1</ion-title>
    </ion-toolbar>
  </ion-header>
  
</ion-content>

</ion-menu>

  <div class="ion-page" id="main">
    <ion-header [translucent]="true">
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-menu-button>
          </ion-menu-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content [fullscreen]="true">
      <ion-grid>
        <ion-row *ngIf="list_items">
          <ion-col size="12">
            <ion-card>
              <ion-card-header>
                <!-- <ion-card-title> -->
                  Datos consultados
                <!-- </ion-card-title> -->
              </ion-card-header>
                <!-- {{ formData | json }}
                <br> -->
                
              <ion-card-content>
                <ion-list>
                  <ion-item>
                    Estado: {{ formData['Estado']['nombre entidad'] }}    
                  </ion-item>
                  <ion-item>
                    Municipio: {{ formData['Municipio']['nombre municipio'] }}
                  </ion-item>
                  <ion-item>
                    Sexo: {{ formData['Sexo']['nombre'] }}
                  </ion-item>
                  <ion-item>
                    Edad: {{ formData['Edad']['nombre'] }}
                  </ion-item>
                  
                </ion-list>
              </ion-card-content>
            </ion-card>
            
          </ion-col>
        </ion-row>
        <ion-row *ngIf="list_items">
          <ion-col>
            <h3>
              Más relevantes
            </h3>
            <!-- <ion-list>
              <ion-list-header>
                <h3>
                  Más relevantes
                </h3>
              </ion-list-header>
              <ion-item *ngFor="let item of list_items">
                {{item|json}}
                <br>
                Causa: {{ item.descrip_defuncion }}<br>

              </ion-item>
            </ion-list> -->
          </ion-col>
        </ion-row>
        <ion-row class="ion-justify-content-center">
          <ion-col size="6">
            <div id="fig1" style="width:700px;height:250px;"></div>
          </ion-col>
          <ion-col size="6">
            <div id="fig2" style="width:700px;height:250px;"></div>
          </ion-col>
        </ion-row>
        <ion-row class="ion-justify-content-center">
          <ion-col size="6">
            <div id="fig3" style="width:700px;height:250px;"></div>
          </ion-col>
          <ion-col size="6">
            <div id="fig4" style="width:700px;height:250px;"></div>
          </ion-col>
        </ion-row>
        <ion-row class="ion-justify-content-center">
          <ion-col size="6">
            <div id="fig5" style="width:600px;height:250px;"></div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-content>
  </div>
</ion-split-pane>